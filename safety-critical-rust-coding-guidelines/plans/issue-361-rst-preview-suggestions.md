# Issue 361 - RST preview warning ordering

## Context
- The RST preview comment is generated by `scripts/generate-rst-comment.py`.
- Compilation and bibliography warnings currently appear after file instructions.
- Contributors want warnings shown at the top before the git steps.

## Goals
- Show code compilation results and bibliography validation near the top of the comment.
- Keep the existing instructions and RST preview content intact.
- Preserve Markdown formatting and spacing (avoid extra blank lines).

## Plan
1. Update `generate_comment` in `scripts/generate-rst-comment.py` to place the test and bibliography sections before file instructions and the “How to Use This” section.
2. Tidy spacing so missing sections don’t create awkward blank gaps.
3. Run `uv run ruff check --fix`.
4. Spot-check output with a sample issue JSON (e.g., `cat .github/guideline-from-issue-tests/test_issue_04.json | uv run python scripts/generate-rst-comment.py`) to confirm warnings appear before git commands.

## Success criteria
- “Code Example Test Results” and “Bibliography & Citations” render above “How to Use This”.
- The rest of the comment content is unchanged besides ordering.
- Ruff check passes cleanly.
